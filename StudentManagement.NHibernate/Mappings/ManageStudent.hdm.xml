<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
    namespace="StudentManagement.NHibernate.Models" assembly="StudentManagement.NHibernate">

	<!-- Cấu hình bảng GiaoVien -->
	<class name="GiaoVien" table="GiaoVien">
		<id name="MaGiaoVien" column="MaGiaoVien">
			<generator class="identity" />
		</id>
		<property name="TenGiaoVien" column="TenGiaoVien" type="string" length="100" not-null="true"/>
		<property name="NgaySinh" column="NgaySinh" type="date" not-null="true"/>
		<set name="LopHocs" inverse="true" cascade="all">
			<key column="MaGiaoVien" />
			<one-to-many class="LopHoc"/>
		</set>
	</class>

	<!-- Cấu hình bảng LopHoc -->
	<class name="LopHoc" table="LopHoc">
		<id name="MaLopHoc" column="MaLopHoc">
			<generator class="identity" />
		</id>
		<property name="TenLop" column="TenLop" type="string" length="100" not-null="true"/>
		<property name="MonHoc" column="MonHoc" type="string" length="100" not-null="true"/>

		<many-to-one name="GiaoVien" column="MaGiaoVien" class="GiaoVien" not-null="true"/>

		<set name="SinhViens" inverse="true" cascade="all">
			<key column="MaLopHoc" />
			<one-to-many class="SinhVien"/>
		</set>
	</class>

	<!-- Cấu hình bảng SinhVien -->
	<class name="SinhVien" table="SinhVien">
		<id name="MaSinhVien" column="MaSinhVien">
			<generator class="identity" />
		</id>
		<property name="TenSinhVien" column="TenSinhVien" type="string" length="100" not-null="true"/>
		<property name="NgaySinh" column="NgaySinh" type="date" not-null="true"/>
		<property name="DiaChi" column="DiaChi" type="string" length="255" not-null="true"/>

		<many-to-one name="LopHoc" column="MaLopHoc" class="LopHoc" not-null="true"/>
	</class>

</hibernate-mapping>
